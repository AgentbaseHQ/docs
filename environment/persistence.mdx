---
title: "Persistence"
description: "How Agentbase manages chat history and computer environment persistence"
icon: "database"
---

> Agentbase uses a two-tier persistence model that separates conversational state from computational environments for optimal performance and cost efficiency.

Understanding persistence is crucial for building reliable applications with Agentbase. Our architecture ensures your conversations and work environments are preserved appropriately while maintaining cost efficiency.

## Two-Tier Persistence Model

Agentbase separates persistence into two distinct tiers, each optimized for different use cases and cost structures.

### 1. Chat & Message History

**Automatic & Free**: Message history and chat history are persisted by default with no cost. See [pricing details](/pricing).

- Zero cost for storage
- Automatic for all conversations
- Resume conversations without losing context
- Use session IDs to maintain context

```javascript
// Conversation automatically persists
const session1 = await agentbase.runAgent({
  message: "Help me plan a marketing campaign"
});

```

### 2. Computer Environment

**On-Demand Creation**: Computers are only created when agents need them for tasks like code execution, file operations, or web browsing.

**Persistence**: Once created, computers persist.

- Auto-pause after 5 minutes of inactivity
- All files and installations remain
- Instant resume when needed
- Use same session ID to reuse environment

**Created for**: Code execution, file operations, web browsing, package installation



## What's Next?

<CardGroup cols={2}>
  <Card title="Computer Details" icon="desktop" href="/environment/computer">
    Learn about the technical capabilities and tools available in computer environments
  </Card>
  
  <Card title="API Reference" icon="code" href="/api/run-agent">
    See all session and persistence parameters
  </Card>
</CardGroup>

<Tip>
  **Remember**: Chat history persists automatically and free, while computer environments are created only when needed and then persist for ongoing use.
</Tip>