---
title: "Run Agent"
api: "POST https://api.agentbase.sh"
authMethod: "bearer"
description: "Run an agent with a message and receive a streaming agent response."
---

### Query Parameters

<ParamField query="session" type="string" optional>
  The session ID to continue the agent session conversation. If not provided, a
  new agent session will be created.
</ParamField>

### Request Body

<ParamField
  body="message"
  type="string"
  required
  default="Hi there! Greet the user and introduce yourself."
>
  The task or message to run the agent with.
</ParamField>
<ParamField body="system" type="string" optional>
  A system prompt to provide system information to the agent. The Agents API
  defaults to the Agentbase default system prompt.
</ParamField>
<ParamField body="mode" type="string" optional default="fast">
  The mode of the agent. Can be `flash`, `fast` or `max`. Flash mode is great
  for simple, one-off tasks. Fast mode is much faster and cheaper, with
  comparable performance to `max` mode. The Agents API defaults to `fast`.
</ParamField>
<ParamField
  body="mcp_servers"
  type="{serverName: string, serverUrl: string}[]"
  optional
>
  A set of MCP servers to provide to the agent. MCP servers configs are not
  stored within the agent, so each request must include the MCP servers configs,
  and you can modify them each time. You need to provide both `serverName` and
  `serverUrl`. We have backward compatibility with the old `/sse` endpoint.
  ```json
  {
    "mcp_servers": [
      { "serverName": "mcp-server-1", "serverUrl": "https://mcp-server-1.com/mcp" },
      { "serverName": "mcp-server-2", "serverUrl": "https://mcp-server-2.com/mcp" }
    ]
  }
  ```
</ParamField>
<ParamField body="datastores" type="{id: string, name: string}[]" optional>
  A set of datastores to provide to the agent. Datastores are a set of data
  sources that the agent can utilize. Datastores are either databases or
  documents as the knowledge base.
  ```json
  {
    "datastores": [
      { "id": "ds_1234567890abcdef", "name": "my-datastore"}
    ]
  }
  ```
</ParamField>
<ParamField body="rules" type="string[]" optional>
  A set of rules to provide to the agent. Rules are a set of constraints that
  the agent must follow. Defaults to no rules.
</ParamField>
<ParamField body="streaming_tokens" type="boolean" optional>
  Whether to stream the agent messages token by token. Defaults to `false`.
</ParamField>

See [Streaming Message Types](/api/message-events) for event details.
